v2.0 (29/09/2025)

✨ Novas Funcionalidades para Clientes

Hub Pessoal (/minha_loja): painel central com botões rápidos:
🛒 Ver Sacola • 📜 Histórico • 💸 Gasto Total • 🎟️ Cupons.

🚀 Novas Funcionalidades para Administradores

Dashboard fixo (/gerenciar_loja dashboard_fixo): painel persistente, reativado após reinicializações.

Gerenciamento de produtos com ações diretas: /produto listar → menu suspenso + botões de [✏️ Editar] e [🗑️ Excluir].

🐞 Correções de Bugs e Estabilidade

Corrigida falha de persistência em Views (“Esta interação falhou”).

Verificação de permissão adicionada em botões de painéis (apenas admins podem gerenciar).

Corrigidas mensagens de erro duplicadas → sistema de erros centralizado.

✅ Resultado: Experiência muito mais visual, intuitiva e profissional para clientes e administradores.

v1.4 (28/09/2025)

⚙️ Correções de Lógica e Permissões

Corrigida falha que impedia donos de servidores de usar comandos de configuração sem cargo de Administrador.

Função has_config_permission reescrita:

Confere se o usuário é discord.Member.

Concede acesso imediato se for o guild.owner_id.

Caso contrário, verifica se tem cargo de Administrador.

✅ Resultado: Donos de servidores agora sempre reconhecidos como autoridade máxima. Sistema de permissões unificado e consistente com a hierarquia padrão do Discord.

v1.3 (28/09/2025)

✨ Novas Funcionalidades

Campo de entrega personalizável → novo comando /configurar campo_entrega.

Fluxo de compra unificado pela sacola → compras diretas removidas; todas passam pela sacola.

🛡️ Segurança e Auditoria

Alertas inteligentes (anti-autodenúncia) → bot ignora alertas quando ele mesmo exclui tickets.

⚙️ Permissões

Permissões em botões de tickets refinadas → donos/admins sempre mantêm controle, mesmo sendo clientes.

🐞 Bugs Corrigidos

AttributeError no módulo de logs → corrigido acesso de .get() para [...].

✅ Resultado: Bot mais versátil para diferentes lojas, mais seguro contra fraudes e ainda mais estável.

v1.2 (28/09/2025)

🐞 Bugs Corrigidos

Erro de “Interação Desconhecida” (Timeout 3s) → modal aberto imediatamente; banco só processa depois.

/configurar pix → comando estável, imune a atrasos de latência.

/configurar canais → fortalecido pela lógica aprimorada de modais.

✅ Resultado: Comandos com formulários (modais) estão muito mais robustos e confiáveis.

v1.1 (26/09/2025)

🔒 Segurança

Sistema de auditoria anti-exclusão de tickets → identifica responsável, gera transcrição e envia alerta ao dono do bot.

⚙️ Permissões

Reestruturação completa de permissões → administradores têm prioridade total em qualquer ação.

🐞 Bugs Corrigidos

Erro de inicialização (View não persistente) → botões agora têm custom_id.

Erro NameError (SHOP_GROUP) → corrigido nome de variável.

Erro na transcrição (.get() em sqlite3.Row) → acesso corrigido para dicionário.

Condição de corrida (canal já deletado) → transcrição agora usa mensagens salvas no banco caso não consiga acessar histórico.

✅ Resultado: Bot mais estável, seguro e permissões funcionando corretamente.
