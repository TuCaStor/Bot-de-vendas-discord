v1.4 (28/09/2025)
âš™ï¸ CorreÃ§Ãµes de LÃ³gica e PermissÃµes

Falha de permissÃ£o para donos de servidor em comandos de configuraÃ§Ã£o

Problema: donos nÃ£o conseguiam usar comandos como /configurar canais ou /verificacao postar_painel sem cargo de Administrador.

Causa: a funÃ§Ã£o has_config_permission nÃ£o checava se o usuÃ¡rio era o guild.owner.

SoluÃ§Ã£o: lÃ³gica reescrita â†’ agora o bot:

Garante que estÃ¡ lidando com um discord.Member.

Concede permissÃ£o imediata se o ID for igual ao guild.owner_id.

Caso contrÃ¡rio, verifica se o usuÃ¡rio possui o cargo de Administrador.

âœ… Resultado: O dono do servidor Ã© sempre reconhecido como autoridade mÃ¡xima, podendo configurar o bot imediatamente apÃ³s adicionÃ¡-lo. Sistema de permissÃµes unificado e consistente com a hierarquia padrÃ£o do Discord.

v1.3 (28/09/2025)
âœ¨ Novas Funcionalidades

Campo de entrega personalizÃ¡vel â†’ novo comando /configurar campo_entrega permite definir qualquer pergunta (Riot ID, nick do Minecraft etc.).

Fluxo de compra unificado pela sacola â†’ compras diretas removidas; todas passam pela sacola (subtotal, cupons e PIX).

ğŸ›¡ï¸ SeguranÃ§a e Auditoria

Alertas inteligentes (anti-autodenÃºncia) â†’ o bot nÃ£o gera alerta quando ele mesmo exclui tickets em operaÃ§Ãµes normais.

âš™ï¸ PermissÃµes

PermissÃµes nos botÃµes de tickets refinadas â†’ donos/admins sempre mantÃªm controle total, mesmo sendo clientes.

ğŸ Bugs Corrigidos

AttributeError no mÃ³dulo de logs â†’ corrigido acesso de .get() para ['...'].

âœ… Resultado: Bot mais versÃ¡til para diferentes lojas, mais seguro contra fraudes e ainda mais estÃ¡vel.

v1.2 (28/09/2025)
ğŸ Bugs Corrigidos

Erro de â€œInteraÃ§Ã£o Desconhecidaâ€ (Timeout 3s) â†’ modal aberto imediatamente; banco sÃ³ processa depois.

/configurar pix â†’ comando estÃ¡vel, imune a atrasos de latÃªncia.

/configurar canais â†’ tambÃ©m fortalecido pela lÃ³gica aprimorada de modais.

âœ… Resultado: Comandos com formulÃ¡rios (modais) estÃ£o muito mais robustos e confiÃ¡veis.

v1.1 (26/09/2025)
ğŸ”’ SeguranÃ§a

Sistema de auditoria anti-exclusÃ£o de tickets â†’ identifica responsÃ¡vel, gera transcriÃ§Ã£o e envia alerta ao dono do bot.

âš™ï¸ PermissÃµes

ReestruturaÃ§Ã£o completa de permissÃµes â†’ administradores tÃªm prioridade total em qualquer aÃ§Ã£o.

ğŸ Bugs Corrigidos

Erro de inicializaÃ§Ã£o (View nÃ£o persistente) â†’ botÃµes agora tÃªm custom_id.

Erro NameError (SHOP_GROUP) â†’ corrigido nome de variÃ¡vel.

Erro na transcriÃ§Ã£o (.get() em sqlite3.Row) â†’ acesso corrigido para dicionÃ¡rio.

CondiÃ§Ã£o de corrida (canal jÃ¡ deletado) â†’ transcriÃ§Ã£o agora usa mensagens salvas no banco caso nÃ£o consiga acessar histÃ³rico.

âœ… Resultado: Bot mais estÃ¡vel, seguro e permissÃµes funcionando corretamente.
